{"version":3,"names":["_react","require","_libs","_reactNative","_utils","_ios","_videoReactBindings","_pushLogoutCallback","_videoClient","logger","getLogger","lastListener","count","setLogoutCallback","client","token","lastVoipTokenRef","setPushLogoutCallback","current","userId","removeDevice","err","useIosVoipPushEventsSetupEffect","useStreamVideoClient","connectedUserId","useConnectedUser","id","useRef","unsentToken","setUnsentToken","useState","useEffect","pushProviderName","StreamVideoRN","getConfig","push","ios","tokenToSend","addVoipDevice","then","undefined","catch","error","pushConfig","Platform","OS","android","incomingCallChannel","voipPushNotification","getVoipPushNotificationLib","registerVoipToken","onTokenReceived","streamClient","_user","anonymous","reason","lastVoipToken","addEventListener","events","Array","isArray","length","voipPushEvent","name","data","onVoipNotificationReceived","currentListenerCount","removeEventListener","exports"],"sourceRoot":"../../../../src","sources":["hooks/push/useIosVoipPushEventsSetupEffect.ts"],"mappings":"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","ignoreList":[]}
