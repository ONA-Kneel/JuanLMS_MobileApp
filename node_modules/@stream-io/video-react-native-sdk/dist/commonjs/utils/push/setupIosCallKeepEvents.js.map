{"version":3,"names":["_rxSubjects","require","_videoClient","_libs","_utils","_reactNative","_pushLogoutCallback","setupIosCallKeepEvents","pushConfig","Platform","OS","ios","pushProviderName","android","incomingCallChannel","getLogger","logger","callkeep","getCallKeepLib","getCallCid","callUUID","call_cid","RxUtils","getCurrentValue","voipPushNotificationCallCId$","NativeModules","StreamVideoReactNative","getIncomingCallCid","next","error","answerCall","then","iosCallkeepAcceptCall","endCall","iosCallkeepRejectCall","didDisplayIncomingCall","payload","voipPushNotification","getVoipPushNotificationLib","AppState","currentState","processCallFromPushInBackground","voipCallkeepCallOnForegroundMap$","uuid","cid","onVoipNotificationCompleted","remove","removeAnswerCall","addEventListener","removeEndCall","removeDisplayIncomingCall","removeDidLoadWithEvents","events","Array","isArray","length","forEach","event","name","data","setPushLogoutCallback","callUUIDFromCallkeep","shouldProcessCallFromCallkeep","clearPushWSEventSubscriptions","voipCallkeepAcceptedCallOnNativeDialerMap$","pushAcceptedIncomingCallCId$","undefined","removeIncomingCall"],"sourceRoot":"../../../../src","sources":["utils/push/setupIosCallKeepEvents.ts"],"mappings":"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","ignoreList":[]}
