{"version":3,"names":["useEffect","useRef","useState","getVoipPushNotificationLib","Platform","StreamVideoRN","onVoipNotificationReceived","useConnectedUser","useStreamVideoClient","setPushLogoutCallback","getLogger","logger","lastListener","count","setLogoutCallback","client","token","lastVoipTokenRef","current","userId","removeDevice","err","useIosVoipPushEventsSetupEffect","connectedUserId","id","unsentToken","setUnsentToken","pushProviderName","getConfig","push","ios","tokenToSend","addVoipDevice","then","undefined","catch","error","pushConfig","OS","android","incomingCallChannel","voipPushNotification","registerVoipToken","onTokenReceived","streamClient","_user","anonymous","reason","lastVoipToken","addEventListener","events","Array","isArray","length","voipPushEvent","name","data","currentListenerCount","removeEventListener"],"sourceRoot":"../../../../src","sources":["hooks/push/useIosVoipPushEventsSetupEffect.ts"],"mappings":"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","ignoreList":[]}
