{"version":3,"names":["React","useEffect","useMemo","useState","StyleSheet","View","InCallManager","useTheme","ViewerLivestreamControls","DefaultViewerLivestreamControls","LivestreamLayout","DefaultLivestreamLayout","useCall","useCallStateHooks","FloatingParticipantView","DefaultFloatingParticipantView","CallingState","hasVideo","CallEndedView","ViewerLobby","ViewerLivestream","ViewerLivestreamTopView","LiveIndicator","FollowerCount","DurationBadge","ViewerLeaveStreamButton","onLeaveStreamHandler","joinBehavior","styles","useStyles","call","theme","viewerLivestream","useHasOngoingScreenShare","useParticipants","useCallCallingState","useCallEndedAt","useIsCallLive","useOwnCapabilities","canJoinLive","callingState","endedAt","hasOngoingScreenShare","currentSpeaker","floatingParticipant","hasLeft","setHasLeft","canJoinEarly","useCanJoinEarly","canJoinBackstage","includes","topViewHeight","setTopViewHeight","controlsHeight","setControlsHeight","start","media","stop","LEFT","topViewProps","onLayout","event","nativeEvent","layout","height","handleJoinCall","join","error","console","canJoinAsap","canJoin","IDLE","createElement","JOINED","isLive","style","container","participant","draggableContainerStyle","absoluteFill","top","bottom","useCallStartsAt","useCallSettings","startsAt","settings","joinAheadTimeSeconds","backstage","join_ahead_time_seconds","setCanJoinEarly","checkCanJoinEarly","handle","setInterval","clearInterval","Date","now","create","flex","paddingBottom","variants","insets","paddingLeft","left","paddingRight","right","paddingTop","backgroundColor","colors","sheetPrimary"],"sourceRoot":"../../../../../src","sources":["components/Livestream/ViewerLivestream/ViewerLivestream.tsx"],"mappings":"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","ignoreList":[]}
